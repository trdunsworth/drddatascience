<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Dr. D&#39;s Data Science</title>
<link>https://drddatascience.com/blog.html</link>
<atom:link href="https://drddatascience.com/blog.xml" rel="self" type="application/rss+xml"/>
<description>Public Safety Data Science by Dr. Tony Dunsworth</description>
<generator>quarto-1.8.25</generator>
<lastBuildDate>Thu, 18 Sep 2025 04:00:00 GMT</lastBuildDate>
<item>
  <title>Stochasticity in Time-Series, Dissertation part 1</title>
  <dc:creator>Tony Dunsworth, Ph.D.</dc:creator>
  <link>https://drddatascience.com/posts/20250917/</link>
  <description><![CDATA[ 




<section id="background" class="level2">
<h2 class="anchored" data-anchor-id="background">Background</h2>
<p>It’s been nearly a year since I defended my dissertation. In that time, I’ve found that people are intrested in knowing what it’s about until I try to explain it, then they feel that they don’t understand it and the discussions get lost. So, while I was playing FreeCell solitaire this morning, I thought of an experiment that could help me work with forecasting stochastic processes, including adding conformal predictions to the mixture. Part of it is because I want to keep my data science skills sharp. I also realized that this would work well as a better explanation of my dissertation also. So my plan is to split everything into three parts. This part is going to discuss stochasticity and how it plays a part of forecasting. The second part will be focused low-code and zero-shot forecasting models. The final part will be marrying these together, like I did in my dissertation, for 9-1-1 centres and how my dissertation can serve as a foundation for future research on both forecasting polystochastic processes and finding even better ways to address forecasting in centers and why it will be important.</p>
<section id="simple-stochasticity" class="level3">
<h3 class="anchored" data-anchor-id="simple-stochasticity">Simple Stochasticity</h3>
<p>This all started with a weird thought playing FreeCell. When I started playing, years ago, I was happy anytime that I had scores under 100 moves. Now, the more I’ve played and improved, I am annoyed whenever I have a count above 90. That certainly is a big difference. It made me wonder, had I thought of it earlier, could I have built a dataset that charted my progress and then forecast things such as which days are going to be more challenging?</p>
<p>Ultimately, this is a simple stochastic process. The “mother-ship” selects a deal at random each day. There are a finite number of choices, according to a quick search, there are <img src="https://latex.codecogs.com/png.latex?1.75%5E%7B64%7D"> possibilities. The program, as part of the trivia, points out that some deals are unwinnable. So the rules that the “mother-ship” must follow also includes, for the daily challenges, the exclusion of unwinnable deals. The program also attaches the daily deal number to the day it is presented, so even if I don’t complete the daily deal, I’m guaranteed to see the same daily deal that my wife or other players saw the same day. This introduces the stochastic element through the determination of limiting factors. If the daily deal were truly random, then unwinnable deals would be possible and the deal offered would change when presented to the player depending on when it was accessed.</p>
<p>My analytical interest, had I started earlier would be to use my prior results to see how my play has improved over time and see if I can forecast how well I can do in the future. I also am curious to see if there is an underlying pattern of when really challenging deals are presented to players. I could correlate my wife’s results with mine to see if a second pattern emerges. This yields the possibility of two separate types of stochastic forecasts. It also allows me to create pattern recognition analyses that may shed some insight into the algorithm the company employs to select the deal for each day. Is it simply a random number generator with some values removed? Or are there other parameters that are added which restrict the lists enough to ensure a player doesn’t perceive repeated deals or perhaps you can ascertain the size of the potential pool of deals.</p>
</section>
<section id="double-stochasticity" class="level3">
<h3 class="anchored" data-anchor-id="double-stochasticity">Double Stochasticity</h3>
<p>This is most generally found in many commercial call centres. Most accurately, it can be described as a <a href="https://www.sciencedirect.com/topics/mathematics/cox-process">Cox Process</a>. In this scenario, we have a number of calls arriving at a defined rate, but each call is randomly placed and any one call does not impact or effect the next call. The best example to describe a Cox Process in a 9-1-1 centre is that there are a random non-negative number of calls that arrive per time unit, typically an hour. Additionally, the decision of any one individual is neither influenced by or influences the decision of another individual to call the centre.</p>
<section id="the-next-stochastic-level" class="level4">
<h4 class="anchored" data-anchor-id="the-next-stochastic-level">The next Stochastic level</h4>
<p>Additionally, because of the nature of Primary PSAPs, there is an additional level of stochasticity regarding how the call for service arrives to the centre. Calls may arrive from 9-1-1 telephone lines, administrative, non-emergency, lines, SMS text messages, TDD/TTY devices, radio communications from officers, or even public walk-ups for centres that have a window for the public, like the county that I live in.</p>


</section>
</section>
</section>

 ]]></description>
  <category>data science</category>
  <category>analyses</category>
  <category>data issues</category>
  <guid>https://drddatascience.com/posts/20250917/</guid>
  <pubDate>Thu, 18 Sep 2025 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Cleaning in the Query</title>
  <dc:creator>Tony Dunsworth, Ph.D.</dc:creator>
  <link>https://drddatascience.com/posts/20250831/</link>
  <description><![CDATA[ 




<p>When I started actively working in data science, like everyone else, I heard the old maxim that a data scientist spends about 80% of their time cleaning data. Well, I can report that in many cases, that’s true. I’m currently facing a lot of that right now in building a new dataset for some new reports and dashboards that I’m designing. I’m starting the data cleaning process in the <a href="https://www.ibm.com/think/topics/structured-query-language">SQL</a> statement. I believe that it’s a lot faster in the end. Once I have the query where I want it, then many of the following steps are pretty easy.</p>
<p>For this dataset, I have three tables from which I will pull data. The first is the master incident table. This contains most of the data that I need for my reports. The second is an extension to the first table. I only want one column from that table and, honestly, I don’t know how often I would use it. However, for a few types of analyses, it could be very handy. The other table that I want to use is a log of activities in a call and the details associated with each activity. Most of the data is fairly straightforward. Some of the derived data, however, isn’t as straight forward as I would like. That data consists of the deltas between timestamps. We use those for operational assessment.</p>
<p>One of the main reasons that I want to do most of my cleaning in the SQL query itself is that I can control the output and standardize it easier. I am more confident with SQL at this stage because I’ve been writing SQL for nearly 20 years in some form. Having written a lot of queries and them progressively more complex and detailed, it feel more natural for me. I admit, I believe that every data scientist should be fluent in writing SQL queries of all types. I also believe that cleaning in the query will save me a considerable amount of time when I’m building my reports and dashboards. That doesn’t mean that there aren’t challenges in cleaning the data before it goes into my dataset. The rest of this post will discuss some of those issues.</p>
<p>When I started writing the first iteration of this query, and I’m currently on my seventh iteration of it, I started then and now with two columns as my foundations. The first is the incident number. I can designate it an ID field in my dataset. The second is the incident creation datetime. From that, I create a lot of additional columns that allow me to craft different analyses. I split the datetime apart to use the hour, the day of the week, and the week number. I also derive the shift and how deep into the shift the call comes. This will be used in correlative studies that investigate how call processing times change throughout the shift. Do we see a change in call processing times when we’re working around lunch breaks? Do the response times change as we get deeper into the shift? I’m also trapping the problem type, the discipline of the service call, the way that it was received, the final disposition, and internally, we trap the call taker and dispatcher for each call. This also includes the priority number. All of these things are chosen to enable different analyses to be run to learn more about the week that happened and how operations functioned.</p>
<p>Along with all of this information, we trap time stamps for various events in the life of a call. One of the reasons for this is to calculate how long it takes for each event to occur and how different calls compare to the median values. It also allows us to track different parts of the operations process and how things change week-to-week. This can lay the foundation for determining if there are correlations between weekly volumes and call processing times. If I find relationships, then I can also build regression models to forecast processing times based on volume, number of telecommunicators on shift, and other factors. However, this is certainly going to be much farther in the future.</p>
<p>The problem is the timestamps that are available and what to do with them and about them. In the master incident table, there are four different timestamps that could be identified for the start of the call. The first is the response date. It is actually the date and time that the software records the call in the database. The second is a column that is listed at the time the clock starts. The third is the date and time that the phone pickup is registered by the software. The final timestamp is when the software records the first keystroke in the call taking screen. All of these time stamps can be within a few seconds of each other. The problem is that there is not one that is consistently earliest. After looking at several different options, because this is a Microsoft SQL Server database and needs to use <a href="https://www.geeksforgeeks.org/sql/difference-between-sql-and-t-sql/">T-SQL</a>, I will have to use a series of <code>CASE()</code> statements to determine the earliest timestamp. If I were using a different database, I might use <code>LEAST()</code> instead. This is not the only place that I will have to deal with this. We also have three time stamps, between two tables, that could determine the time that the calltaker has collected enough information from the caller to release the call for dispatching. I will have to use the same clause to find the earliest value that identifies when the call was ready for dispatch.</p>
<p>The other challenge is that the vendor has built some elapsed time fields in the main table that could be used, but they are all strings. So to make any use of them, we have to convert them into an integer value of seconds to compare them to differences between the timestamps that we’ve identified for each stage of the call. When I first started writing the conversion, I made a mistake and it looked as if these two different values were way off in a couple of areas. The mistake was how I handled decimal seconds. My code acted like the decimal seconds were seconds and the seconds minutes, etc. When I found my error and corrected it, then everything fell into place and in most instances, the difference between the calculated elapsed time and the documented string is <em>3 seconds</em> or less. For most of the calls where there are larger differences between some values, we find calls that have been reopened.</p>
<p>Identifying reopened calls and gauging their impact on our statistics was the reason behind this iteration of this query. I wanted to not only identify which calls were closed once then reopened, but I also wanted to find out how to ameliorate their impact on our reported metrics. This updated query has given me the best of both worlds. I will be able to isolate the reopened calls and analyse them for patterns.</p>
<p>In several places, I still have <em>NULL</em> values. In several of my non-datetime fields, I use different strings for several of my categorical variables. If they are integer or calculated fields, I use a value of <em>-9999</em> to identify the null fields. I didn’t want to set the values to 0 because that is a possible value in several places. Again, this cleaning done in the query is a lot simpler and easier to accomplish. In most cases, I use the <code>ISNULL()</code> function to address possible <em>NULL</em> values. By cleaning here, I don’t have to write as much cleaning code and I get the advantage of moving directly into my analytical code and getting the to the insights hidden in the data.</p>
<p>When I’m done, I have a dataset that has completed an initial cleaning and is ready for the needed manipulations and transformations that will allow me to find new insights and deliver value. Sure the query to generate these datasets is kinda heavy. This new version clocks in at just under 600 lines when formatted in a way that is more human-readable, but it runs quickly, returns over 1000 rows of data in under 3 seconds. I have a second version of this that isn’t focused on a weekly output. That version allows for the specification of dates so I can create larger datasets.</p>
<p>Since I also have a synthetic generator that I continue to update and support, I can also use this query to generate datasets that will allow me to gather more accurate data to fine-tune the distributions and make certain that my synthetic data is more useful. I will likely use the <a href="https://erdogant.github.io/distfit/pages/html/index.html">disfit</a> library to make more accurate assessments of the data and find the best distribution.</p>
<p>Well, that’s it for this edition. Stay tuned for a different swing through the world of data workers coming soon!!</p>



 ]]></description>
  <category>data science</category>
  <category>analyses</category>
  <category>data issues</category>
  <guid>https://drddatascience.com/posts/20250831/</guid>
  <pubDate>Mon, 08 Sep 2025 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Getting Certified</title>
  <dc:creator>Tony Dunsworth, Ph.D.</dc:creator>
  <link>https://drddatascience.com/posts/20250826/</link>
  <description><![CDATA[ 




<p>As my readers know, from following this blog, I work with <a href="https://www.comptia.org/en-us/">CompTIA</a> on developing certification exams for Database Administrators and Data Analysts. One of the criteria for sunject matter experts is that we hold a valid CompTIA certification outselves. Thankfully, they were gracious enough to suspend that for me while I was finishing my Ph.D.&nbsp;Now that I’ve finished it, I know that I have to start working on obtaining a certification. At one point, I held four CompTIA certfications, but I sadly allowed them to lapse because I was working on a Masters in Data Analytics. The ones that I held were the A+, the Network+, the Security+ and the Project+ certs. I suppose that, with a little review time, I could retake the exams and obtain all four of them. However, I won’t make use of them in my day job any longer, so it feels like it defeats the purpose.</p>
<p>While we work on the exams, CompTIA reminds us to ensure that we focus on things that the target audience would acutally need to know or do in their daily work. I think that is an excellent idea. So, I’m going to follow the same advice for the selection of the certification I am choosing to pursue. In this case, I’m starting to study for the <a href="https://partners.comptia.org/docs/default-source/resources/comptia-datax-dy0-001-exam-objectives-(5-0)">DataX</a> exam. I applied to work on this exam, but I was told that my qualifications were insufficient. At first, I was surprised because I thought that my resume was impressive enough to work on this exam. In retrospect, I can see where I fell short. While I had a lot of experience in data analytics and statistics, I wasn’t working as a data scientist on a daily basis, so I was just a bit short. I might reapply after I get the certification since I think the combination of passing the exam and having the Ph.D.&nbsp;might qualify me.</p>
<p>Until then, like anyone else, I have to study to prepare for the exam. So far, to do that, I picked up a book of questions from Amazon and have it on my Fire tablet. I know that most of the questions are not in the CompTIA format, but it’s a good way to review different topics that may be covered on the exam. I’ve also purchased a Udemy course for the exam. I’ve used some of them in the past to help me study and they were effective when I made good use of them. So that’s an emerging discipline issue that I will address.</p>
<p>The first exam objective, according to the CompTIA document I’ve linked above is mathematics and statistics. It makes sense to me since math is the foundation of analytics and data science. In this domain, most of the topics make sense and I can see how they apply. The question is going to be how in depth do they cover p-values? Everything else in there seems to make sense to me. I think that I will need to review AIC/BIC, type I and II errors, and a few other statistical concepts. The second objective in the domain is probability and synthetic modeling. A lot of this is stuff that I use daily, types of distributions, missingness, skewness and kurtosis. Those two are big with my work on 9-1-1 data. I know that I will want to cover homoskedacity and heteroskedacity in depth. I also need to review Probability Density Function and Probability Mass Function. The third objective in this domain is linear algebra and calculus. I know I need to review that. I have always been a much better statistician than mathematician. I will find additional resources to augment my education in this area. The final objective in this domain is temporal. I know that I will feel comfortable there. I wrote a dissertation on the subject and have built many models I thought that it was interesting to see that survival analysis is included here. I also saw that the objectives list a difference between parametric and non-parametric survival analyses. I want to ensure that I look into this a bit more.</p>
<p>The second domain covers modeling, analyses, and outcomes. The first objective that exists in this domain is Exploratory Data Analysis (EDA). I think that every data scientist has conducted EDA at least a dozen times in their practice. It’s the first thing that we do with new datasets. All of the topics that are covered under this objective should be pretty straightforward for me and my studies. There are the different types of analyses and the different plots that can be used for visualizing the data. The second objective centers on common data issues such as sparse data, outliers, lagged observations, multicollinearity issues, and other issues. The third objective covers data enrichment such as geocoding, feature engineering, and transforming data. I have done quite a bit of feature engineering when I have built forecasts. I also like that synthetic data is covered here. I’ve done a lot of work recently with synthetic data, so I will feel comfortable there. I think that I want to review a lot of data transformation techniques prior to the exam. Mainly that will be needed because that is something that I don’t do as much of that in my current work. That doesn’t mean that I don’t need to do it, just that I’ve not applied these much.</p>
<p>I’m going to continue to cover this in more depth while I work on my studies, but this is a good start to get me moving. I have other blog posts that I want to get out to all of you. So, on to the next step.</p>



 ]]></description>
  <category>data science</category>
  <category>certification</category>
  <category>studying</category>
  <guid>https://drddatascience.com/posts/20250826/</guid>
  <pubDate>Sat, 30 Aug 2025 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Taking care of the community</title>
  <dc:creator>Tony Dunsworth, Ph.D.</dc:creator>
  <link>https://drddatascience.com/posts/20250825/</link>
  <description><![CDATA[ 







 ]]></description>
  <category>data</category>
  <category>community</category>
  <category>dispatch</category>
  <guid>https://drddatascience.com/posts/20250825/</guid>
  <pubDate>Mon, 25 Aug 2025 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Building a data-centric future</title>
  <dc:creator>Tony Dunsworth, Ph.D.</dc:creator>
  <link>https://drddatascience.com/posts/20250824/</link>
  <description><![CDATA[ 




<p>As most of you know, I have a few outside activities where I can use my skills to better things around me. For example, I contribute to first-look book reviews for <a href="https://www.manning.com/">Manning Press</a>. I am a subject matter expert for <a href="https://www.comptia.com/">CompTIA</a> on a couple of different exams. I also volunteer my time and energy for <a href="https://www.nena.org/">NENA</a>, the National Emergency Number Association. I work on standards and best practice development there. Recently, at their annual convention in Long Beach, CA., I had an idea to suggest something new. The new <a href="https://www.nena.org/page/board">NENA board</a> president, Lee Ann Magoski, challenged all of us in her inauguration speech to use more of the data we generate and use it more effectively. I started thinking about submitting a form to create a working group that could assist in completing data collection and analysis for other working groups that need it to further their work on standards and best practices. I ran my idea past some colleagues and I was pleasantly surprised to hear a lot of support. That support extended to colleagues offering their advice and support to help me with the paperwork and ensure that the community can be built and sustained.</p>
<p>What started out as an idea and a form to create a working group got its first potential boost when I asked to speak to a NENA executive and was encouraged to think even bigger than the two working groups. Since it hasn’t been approved yet, I’m being a bit circumspect. However, I want to discuss what I want to see for the future. I was redirected from creating a working group that could come together to support other groups, to developing a proposal to create a committee that can create working groups to support current and future data efforts. However, it can also do much more.</p>
<p>NENA is an organization dedicated to educaiton, training, and the development of the industry. I was encouraged by an old mentor to contribute to them because he believed that I knew too much to be sitting in a cube all day watching everything pass by. During both my work in NENA and my development as a data scientist, I’ve wanted to find ways to advance the use of analytics and data science in the 911 industry. So, I have been creating that proposal to leverage both my passion for data analytics and data science and NENA’s reputation for education and training to create new opportunities for the industry. To do that, I’ve started expanding the idea of the committee to do more than supply analytics to other working groups. I think that the committee could work with NENA to create more a more detailed census of the industry. I think we could become a clearing hours for data that could be used for many other research projects.</p>
<p>I also believe that the committee could further education in our industry by helping PSAPs set up their own analytics systems, helping define best practices and giving instructions on how to build systems on a budget, using open source freeware components. Yes, I know some of our vendor partners might have a problem with parts of this, but I don’t see this as something that would be truly negative for them. They could use this as a way to show their capabilities to the industry. Some centers will still want to purchase their produts because they don’t want to set everything up for themselves. For those that do, this gives the vendors exposure to make sales. I also believe that the committee can contribute to future editions of the <a href="https://www.nena.org/page/ENP_Certification">ENP</a> and <a href="https://www.nena.org/page/CenterManagerCert">CMCP</a> exams. I think that both certifications could benefit from basic statistical knowledge. I think that NENA can also use the committee to sponsor research projects that can benefit the community. One such research project that comes to mind comes from a report that the NFPA comissioned for the NFPA 1225 standard. That report can be found <a href="https://www.nfpa.org/education-and-research/research/fire-protection-research-foundation/projects-and-reports/an-analysis-of-public-safety-call-answering-and-event-processing-times">here</a>. In this report, the authors suggested that their work could serve as a tool to guide future research. After reading their survey questions and their report, I think that this type of committee could spawn a working group interested in taking up that research using data that NENA can collect from PSAPs around the country. I also beleive that many more PSAPs would participate if they knew that NENA was behind the research efforts because we are the community and we’re doing this to support our industry.</p>
<p>During a different conversation where I have been working to get data for the two working groups to which I’ve alluded above, I was speaking with a state 9-1-1 administrator and she was intrigued about the opportunities that could come from NENA sponsoring research. Her thoughts were about NENA partnering with some university to ensure that research could be overseen by the university’s Institutional Research Board. That intrigued me because I had not thought of that at the outset. After that I started looking at what would be needed to create an IRB and found that NENA could do that on its own. This committee could help create that IRB and use that to allow for NENA sponsored human subject research. I think all of this benefits NENA and the industry that it represents.</p>
<p>I’m hoping that the proposal will be adopted after it’s submitted. I know that it has several advocates already and I think that will benefit all of us for years to come.</p>



 ]]></description>
  <category>research. data-driven</category>
  <category>data</category>
  <guid>https://drddatascience.com/posts/20250824/</guid>
  <pubDate>Tue, 19 Aug 2025 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Remembering My Target Audience</title>
  <dc:creator>Tony Dunsworth, Ph.D.</dc:creator>
  <link>https://drddatascience.com/posts/20250812/</link>
  <description><![CDATA[ 




<p>I like soliciting feedback for this blog so I can refine my work and ensure that I’m reaching my target audience effectively. I received some valuable feedback recently that made me reflect on my target audience and how I communicate with them. I meant for this to appeal to professionals in the 9-1-1 and public safety fields, along with people interested in statistics, analytics, and data science overall. The feedback I received after my most recent post suggested that I needed to reflect on my target audience more carefully.</p>
<p>My feedback came from two highly intelligent professionals, both <a href="https://www.toastmasters.org">Toastmasters</a> for whom I have deep respect. One is a 9-1-1 professional and the other a retired medical professional. Both of them gave me similar feedback. They both enjoy my writing style and felt that I write well. However, they also pointed out that I lost them in some of the technical details. I went a little too deep into the details. I think that’s because I haven’t deployed my framework to GitHub yet.</p>
<p>So, I want to back my own bus up a bit, so to speak, and recast my last post in a little better format. I think this will reach my target audience more effectively and, hopefully, make the technical choices clearer to my actual target audience.</p>
<p>While you can perform data analysis in many different languages and you can do a fair piece of data analysis in Excel, there are three main choices, programmatically, to do basic, intermediate, and advanced data analysis. These are <a href="https://www.python.org">Python</a>, <a href="https://cran.r-project.org/">R</a>, and <a href="https://julialang.org/">Julia</a>. R has a reputation for being a great statistical programming language and can be closely associated with academia. Julia is the new kid on the block and has a lot of promise. However, I don’t see as much work daily work in it. If you are interested in Julie, I recommend reading <a href="https://medium.com/@emmacode">Emma Boudreau’s Medium Blog</a> and following her <a href="https://github.com/emmaccode">GitHub Repositories</a>. They give an excellent view of what Julia can do beyond basic data analysis. Python is an excellent general programming language with a lot of supplemental libraries that can speed up its performance and make it an excellent choice for data analysis, data engineering, machine learning modelling, and even Large Language Model (LLM), and AI development. So I chose Python because of the libraries I know that I need as well as ones that I think I will need as the project grows through the phases that I’ve envisioned for it.</p>
<p>Because a typical Python project requires several libraries, there is always a high-likelihood that some of the libraries will not play well together at the most up-to-date version of Python. Currently, the most recent release according to the python.org website is 3.13.13. Many of them will work together at some earlier version, so a key piece of building the infrastructure for the project is version management and control. There are, obviously, many ways to do that. I’ve tried several different methods and I’ve settled on one that really works well for me. I use <a href="https://docs.astral.sh/uv/">uv</a> by <a href="https://astral.sh/">Astral Software</a>. I also use their linting and formatting tool <a href="https://docs.astral.sh/ruff/">Ruff</a>, but that will be discussed a little bit later. I chose it because, in many cases, you can, after installation, use many of the same <a href="https://pypi.org/project/pip/">pip</a> or <a href="https://docs.python.org/3.11/library/venv.html">venv</a> commands to configure your environment and install libraries and only preface them on the command line with <em>uv</em>. Astral wrote uv in <a href="https://www.rust-lang.org/">Rust</a> which is known for creating very fast software. This speeds up Python’s built-in tools and expands your capabilities by adding commands like <code>{bash} $ uv tool install ruff</code> or <code>{bash} $ uvx ruff</code> to install tools and executing scripts with a command like <code>{bash} $ uv run synth911gen.py</code>.</p>
<p>Other environments, like <a href="https://anaconda.com">Anaconda</a>, provide full environments, but the libraries can lag behind and it is appears to have a lot of overhead. <a href="https://python-poetry.org/">Poetry</a>, like uv, supports greater collaboration since the environment can be packaged in a single <a href="https://toml.io/en/">toml</a> file and shipped to another workstation. From there, both can use their version of toml to synchronize the environment and download the necessary libraries with all the needed dependencies. I just found uv easier to use and less argumentative than Poetry. Having said that, remember that your milage may vary and if one works better for you than the other, by all means, use what works best for you. I know there may be readers who will ask if you can do most of this by prepending ‘uv’ in front of other Python commands, why not just use pip and venv? My answer is that it works quickly and seems more consistent to me. While writing this, I actually found a different environment manager that could be interesting since it touts its ability to be multilingual. It is called <a href="https://pixi.sh/latest/">pixi</a>. I have no experience wiht it, but who knows. I am going to read the docs on it to see if it might be useful for me in the future.</p>
<p>Once the environment is set, then I ensure that I install a version of Python for that environment. Right now, I’ve stayed with the latest patch to 3.11 which is 3.11.13. It has an end of life date in 2027, so I can work with it and I know that it is still in support while I build the project. Most of the libraries that I’ve chosen are compatible with it and with each other at that version. I have considered moving to 3.12, but I haven’t tested that all of my libraries will work together and with 3.12. As I move forward in the project, I will test version and patch levels to see if everything will work as I would like it to. After the environment is set, I need to start working on the libraries that I want to use in the project. The first library choice is the most fundamental; choosing the library that creates and manages data frames. The most common library is <a href="https://pandas.pydata.org/">pandas</a>. However, the biggest complaint with this library is speed, or lack thereof. I’ve used <a href="https://fireducks-dev.github.io/">Fireducks</a> in the past with some really good results. I also know that <a href="https://pola.rs/">Polars</a> is a very fast data frame library. So, since it is designed to handle large data sets, I have decided to use it for this project. I have noticed a trend lately of libraries being written in Rust to speed up performance. It makes me think about cutting out the middle man and finding a way to use Rust directly for data analysis, but that is a project for another day. For much of the heavy statistical math lifting, I plan on using <a href="https://numpy.org/">NumPy</a> along with <a href="https://scipy.org/">SciPy</a> and <a href="https://www.statsmodels.org/stable/index.html">Statsmodels</a>. These three libraries cover most of my statistical and mathematical needs and are standard libraries in the data science world.</p>
<p>When it comes to graphics, while there are tried and true standards like <a href="https://seaborn.pydata.org/">Seaborn</a>, I have always preferred both <a href="https://plotly.com/">plotly</a> and <a href="https://plotnine.org/">plotnine</a>, I prefer using plotnine because it implements the grammar of graphics as outlined in <a href="https://link.springer.com/book/10.1007/0-387-28695-0">The Grammar of Graphics</a> by Leland Wilkinson. If you are familiar with R, it is similar to <a href="https://ggplot2.tidyverse.org/">ggplot2</a> which is based on the same principles. Once you become accustomed to itm the Grammar of Graphics is easy to understand. This <a href="https://towardsdatascience.com/a-comprehensive-guide-to-the-grammar-of-graphics-for-effective-visualization-of-multi-dimensional-1f92b4ed4149/">Toards Data Science post</a> explains the principles very nicely, including a good representation of the multiple levels starting with the data and moving through to the coordinate system. It makes a very effective way to build your visualizations and it allows for the reuse of many components by allowing for minor changes to the aesthetics or the geometries. Geometries or geoms are how you display data points. Are you using bars, points, lines, x’s, etc.</p>
<p>Finally, other libraries for all phases of the project include <a href="https://docs.pydantic.dev/latest/">pydantic</a> for type safety, <a href="https://www.quarto.org">quarto</a> for publishing documents, and <a href="https://jupyter.org/">Jupyter</a> for notebooks that allow code testing. Python is not a type safe language. You can assign any value to a variable and it will infer the type; string, integer, boolean, etc from the value assigned to it. You can change the variable value which can change the type and Python will happily try to apply the variable to the function. As an example, you can creats a variable <em>x</em> and assign the value <em>1</em> to it. Now, you can add 1 to it and save the output as <em>y</em>. If you print y, you should get 2. Python inferred that 1 is an integer and added it to another integer and came up with an integer result. However, you can then change <em>x</em> to <em>‘1’</em> and run the same code and you’ll get <em>‘11’</em>. Python saw a string, cast the second 1 to a string and concatenated the two strings together. You can specify, in a function definition, that the input value for <em>x</em> has to be an integer and it will throw an error if it finds a string. However, when you’re working fast, you might forget to define your types in the function. Pydantic takes care of that by reading the variable and watching the use and flagging where the usage may be questionable and helps ensure what you program is what you meant to write. Quarto is a great document publishing system that can use R, Python, Julia, or even Javascript to execute code in a document and display the results. You can even display the code that generates the output. In fact, this website and blog use Quarto as the foundation. Eventually, I can get fancy with CSS and Javascript to make it even prettier. You can use this platform to create many different types of output. You can use <a href="https://pandoc.org/">pandoc</a> to create Microsoft Word compatible documents, you can use either <a href="https://www.latex-project.org/">LaTeX</a> or <a href="https://github.com/typst/typst">typst</a> to create pdfs or publication-ready documents formatted to a specific journals requirements. You can use it with <a href="https://shiny.posit.co/">Shiny</a> to create interactive dashboards, and you can create PowerPoint slides with it. Jupyter, on the other hand, is good for creating ‘notebooks’ that can be shared and reproduced to show how code is working. I prefer to use it like a scratch pad when I’m creating code for testing purposes. After I’m satisfied, I can take the code and move it over to a document. However, using quarto, I could turn a jupyter notebook into a document with ease. Again, it all depends on what you want to do and how you want to do it.</p>
<p>Phase I of this project is really this: building the infrastructure. After the infrastructure is built, then all of the other phases can flow into it to ensure that everything gets completed when each step is ready to deploy. Phase II, after getting the infrastructure built, is to create a base document that will serve as the model for future reports. Initially, the report will come out weekly and will cover summaries of different data slices. My goal is to create a report that could almost mimic a newsletter. Here are the highlights and the standard KPI reports. That will expand after a time to include a comparison with the week prior, then 4 weeks prior, then 8 weeks prior and at the 4 and 8 wees, a comparison with the same week number for the previous year will be included. Trends and historical information are both important to ensure that centre operations are progressing in the desired directions. This will open the door for correlation analysis to see if trends and historical data can be used to find additional information about operations.</p>
<p>Phase III will open up the archives for users to select a specific week while developing and deploying other templates for users to access. The idea is to create a website that allows a user to specify a report from a series of templates and then select the dataset they wish to access. I would continue to use quarto to develop the website. That makes the most sense because it will already be present and I have experience with it, as evidenced by this site.</p>
<p>Phase IV will focus on using my data engineering skills to build an ingestion pipeline to consume the archival data and make it available through the website to users. I think that I will use <a href="https://duckdb.org">duckdb</a> in the backend to create the dataframes from the data lake and then apply the data to pre-built templates to create more informative reports. I think that duckdb will allow me to leverage my SQL skills and be more productive with less lines of code. At this stage, I will also start building different dashboards using <a href="https://streamlit.io/">Streamlit</a> and quarto as the backbones for them. I have reveiwed a book on Streamlit in the past, so I have a lot of familiarity with it and that will serve me well in developing the basics for different audiences. I want to create different dashboards for the executive suite, operations management, and floor supervisors. Each of the different groups will want to see different information that is relevant to them.</p>
<p>Once this has been solidified and the solution has demonstrated that it is working not only has I intend, but has matured with user feedback, then I will build the next and final expected phase. Phase V will give the user the opportunity to use a local LLM to build custom reports from a specified dataset. I think that this level of interacivity will allow users to really dive into the data and focus on using data to drive decision-making. I plan on deploying an LLM locally because I don’t want to expose data to the outside world and I want to ensure that I can control costs by using local deployment. I have already built two laboratories, so I understand what I need and how to construct the backbone. Right now, I’m leaning toward using <a href="https://ollama.com/">ollama</a> because I’ve built two labs with it and I know how to configure it. I just need the RAM and the processor speed to run it properly.</p>
<p>Once the final phase has been completed and everything is stable, mature, and only needs the occasional code update, then my goal is to package this up and make it available to other centres. If I had my way, I would make it free to smaller centres for free and set up a payment scheme for larger centres so that could subsidize future development options.</p>
<p>I already have my next post in the pipeline, so it should be released even sooner.</p>



 ]]></description>
  <category>development</category>
  <category>software</category>
  <guid>https://drddatascience.com/posts/20250812/</guid>
  <pubDate>Sun, 17 Aug 2025 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Building a new reporting system</title>
  <dc:creator>Tony Dunsworth, Ph.D.</dc:creator>
  <link>https://drddatascience.com/posts/20250807/</link>
  <description><![CDATA[ 




<p>I have a lot of projects in the works, probably too many to be honest. However, at the day job, the one that has been bouncing around the longest and is now the centre of my attention is building an updated reporting structure. Currently, most of the regular reports that I generate are call lists that fit certain criteria. This has satisfied management at multiple levels for a while now, however, I haven’t been satisfied with it. I have wanted to change things up and bring more data into the reports. I’ve also wanted to expand the comparative statistics to determine where, if at all, correlations exist in operations. It is also, in my opinion, good to discern any trends that could be present in the data. Something call lists may miss.</p>
<p>The whole project will be deployed in five phases. The first phase is building the infrastructure. I know that may sound boring, but my experiences in engineering and analytics is that most of the job is boring to most people. I don’t mind it at all, so I’m happy to take my time. The first decision is that of programming language. While I, typically, prefer R over Python, in this instance, I’m reversing that decision because I believe that I can accomplish the other phases more efficiently code-wise in Python. I would like to try this in R as well, but that is a project for another day. When this is done perhaps.</p>
<p>One of the reasons that I chose Python is my preference to use <a href="https://docs.astral.sh/uv/">uv</a> to manage the environment. Written in Rust, uv allows me to use one tool to manage the environment, install the preferred libraries, including the dependencies, and ensure the proper version of Python has been installed. It can also ensure that the project could be deployed on any platform by using .toml files to define all of the libraries and show the version of Python that is needed for the project. I’ve used other options, including Poetry, Anaconda, and pipenv, etc. However, I’ve found uv quicker and easier to use.</p>
<p>After that, I selected my libraries. I chose to replace pandas with <a href="https://pola.rs/">polars</a>. Like uv, polars is written in Rust. No, I’m not planning on using Rust yet. I do know that Rust can build some very good tools for Python though. Obviously, I’m going to use <a href="https://numpy.org/">NumPy</a> for a lot of my mathematical and statistical work. I will also add in <a href="https://scipy.org/">SciPy</a> and <a href="https://www.statsmodels.org/stable/index.html">Statsmodels</a>. They both can contribute a lot to analyses and modeling. For grpahics I prefer to use either <a href="https://plotly.com/python/">Plotly</a> or <a href="https://plotnine.org/">Plotnine</a>. I lean more toward Plotnine because it implements the grammar of graphics, the book behind the idea <a href="https://link.springer.com/book/10.1007/0-387-28695-0">The Grammar of Graphics</a> by Leland Wilkinson is the foundation of <a href="https://ggplot2.tidyverse.org/">ggplot2</a> in R also. I like it because it is clear to implement and everything makes sense once you get used to it. The final two libraries that I want to ensure I implement in Phase I are <a href="https://docs.pydantic.dev/latest/">Pydantic</a> for type checking. That will ensure that my code doesn’t create any type conversion problems, and <a href="https://www.quarto.org">quarto</a> for publishing. It is wonderful for working wtih either <a href="https://pandoc.org/">pandoc</a> or <a href="https://www.latex-project.org/">LaTeX</a> to create high quality documents. It even now supports <a href="https://github.com/typst/typst">typst</a> which uses Markdown for typesetting.</p>
<p>These choices will allow me to start building the infrastructure and start with the first step of creating reports that will better reflect the operations in the center. I also plan on starting to build in comparative analytics by comparing the week I’m analyzing to the previous week, 4 weeks prior, and the year prior. Eventually, I want to build comparisons that span at least 6 to 8 weeks. This will allow us to investigate and illuminate trends over time. I also want to perform correlative analysis over time to find other trends and patterns in the data. I think that could unlock information which would enable us to serve our community better. The other part of a weekly analysis, beyond the summary statistics and these other analyses, should be looking over KPIs that are applicable to the centre and see how well we are meeting those KPIs.</p>
<p>When I get this phase completed and we’ve evaluated the output and adjusted the reports in response to the feedback received, then I will head to Phase II. Phase II will improve the data pipeline. I would like to move from CSV files to direct database access and then refactor Phase I to use the new data pipeline. After that, I will start determining which KPIs I need to build dashboards for management. I will discuss this in another post.</p>
<p>For now, on to building the infrastructure and getting dug into Phase I. Happy Reading and please feel free to comment!</p>



 ]]></description>
  <category>development</category>
  <category>software</category>
  <guid>https://drddatascience.com/posts/20250807/</guid>
  <pubDate>Sun, 10 Aug 2025 04:00:00 GMT</pubDate>
</item>
<item>
  <title>You never know what is interesting</title>
  <dc:creator>Tony Dunsworth, Ph.D.</dc:creator>
  <link>https://drddatascience.com/posts/20250801/</link>
  <description><![CDATA[ 




<p>About a month or so back, I had an opportunity to speak with several people from a company that makes software for public safety entities. I had connected with one of their folks through my <a href="trdunsworth.bsky.social">BlueSky account</a>. After a few preliminary conversations, they wanted to read my dissertation. Trust me folks, when someone asks to read it, you are truly excited. I sent them a copy of it and when it came time to meet with the group, I was excited to learn they <strong>really did</strong> read it!</p>
<p>When we met, they asked me a few questions about it. Overall, they appeared to be impressed with my work. However, the surprise came when I mentioned a small piece of <em>toy</em> software I have written. They were immediately interested in this software. They were thinking of new uses for it, beyond my reason for creating it, and asking questions about what I developed and why I made the design choices that I dud. The conversation was very enlightening. I admit that I didn’t expect that the <a href="https://github.com/trdunsworth/synth911gen2">program</a> would be the subject of anyone’s interest.</p>
<p>Because I give many presentations around the country about statistics and data use, I use synthetic data in place of real data from a specfic centre for my presentations. It provides better compliance with CJIS and HIPAA regulations because I’m not potentially exposing anyone’s data. Granted, I don’t ever use the call narrative, but some systems may identify telecommunicators by name, and I don’t want to expose that either. In the past, I used <a href="https://mostly.ai/">Mostly.ai</a> as my first provider. The building process was challenging, not because of any deficiencies on their part. They were kind enough to extend credits to me to dive into the product after I met with them and discussed what I was doing and why. When I created my first datasets using their product, I made mistakes and ended up creating a dataset that had a normal distribution for elapsed times between events. Granted, I will admit that was user error. So, I went through the <a href="https://numpy.org/">NumPy</a> library and started leveraging different random generators to find the right distribution for the data when compared to actual data from my center.I wrote an analyzer to look over the elapsed times for each interval and report back the distribution and its properties. Once I had those, I matched that to the proper random generator so I would have realistic elapsed times. After I created those, I used that to create my ancillary timestamps.</p>
<p>When I started making it, I thought of it is as something that I could use to generate data for my speeches and a way to learn more about Python programming. I didn’t conceive of any other uses or anyone else being interested. Maybe someone like Mostly might look at it and, possibly, give me suggestions to make it better or something like that, but I didn’t expect anyone else to find uses for it or inspire me to see different uses for it. However, like the post about <a href="https://drddatascience.com/posts/20250415/">Asking the First Question</a>, it was someone else who inspried me to take things in a direction I hadn’t expected.</p>
<p>I hope you find this post useful. Thanks for reading!</p>
<hr>



 ]]></description>
  <category>updates</category>
  <category>news</category>
  <guid>https://drddatascience.com/posts/20250801/</guid>
  <pubDate>Mon, 04 Aug 2025 04:00:00 GMT</pubDate>
</item>
<item>
  <title>NENA 25 National Convention - Long Beach</title>
  <dc:creator>Tony Dunsworth, Ph.D.</dc:creator>
  <link>https://drddatascience.com/posts/20250704/</link>
  <description><![CDATA[ 




<p>Once again, I haven’t written in a long time. I know <em>Bad Dr.&nbsp;D</em>! I have not been as diligent as a blogger as I would like to be. So now that my mea culpa is out of the way, let’s proceed to the next step in this blog, actually discussing information.</p>
<p>Last week, I was out in Long Beach, CA at the <a href="https://nena.org">NENA</a> 2025 Annual Convention at the Long Beach Convention Center. It was a bit of an “old home” week for me. I used to live near the convention center over 20 years ago. Obviously, some things were completely differnt while some things have not changed. In a way, it was nice to be back in the area. I was able to take the old Green Line and the Blue Line to get down to Long Beach from the airport.</p>
<p>However, once the convention started, I found myself a lot busier than I expected I would be. I had two presentations to give. I knew that going in. What surprised me was the number of people who walked up to strike up a conversation. I am sitll not used to that one. My wife tells me that she doesn’t know why I am so surprised, I’ve been working on so many different things for the City and the community that I shouldn’t be surprised that people want to get a piece of my brain. I also had some really interesting and substantive meetings with several people. That helped me get some good directions for future research.</p>
<p>Ironically, one of the best meetings during the week had nothing to do with the convention. I was contacted by a colleague from private industry regarding a topic that has become a passion for me. I’ve started working on trying to build new staffing models for 9-1-1 centers. To that end, I lead a working group that is working on developing a new staffing model workbook. So, I have been talking to</p>



 ]]></description>
  <category>updates</category>
  <category>news</category>
  <guid>https://drddatascience.com/posts/20250704/</guid>
  <pubDate>Mon, 21 Jul 2025 04:00:00 GMT</pubDate>
</item>
<item>
  <title>How to Start - Asking the First Question</title>
  <dc:creator>Tony Dunsworth, Ph.D.</dc:creator>
  <link>https://drddatascience.com/posts/20250415/</link>
  <description><![CDATA[ 




<p>I recently wrote about a presentation that I gave at <a href="https://rmc.edu">Randolph Macon College</a> concerning using data analyses in 9-1-1 centres. During the Q&amp;A section, someone asked me how I would recommend getting started. My answer, then and now, is pick a question and dive into that and new questions will start coming.</p>
<p>I thought, perhaps, I should come up with an example of what I mean. In our centre, our medical director has requested that we do quality checks on every cardiac arrest call that we receive. So, here is the starting question: what can we learn about the cardiac arrest calls in the city? With that as the opening question, the first step is collecting the data. To start, I plan on collecting four datasets. I can create all of them using SQL. Since I work on SQL Server or T-SQL flavoured databases, the query, for our dispatch software’s databases looks something like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb1-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">USE</span> Reporting_System;</span>
<span id="cb1-2">GO</span>
<span id="cb1-3"></span>
<span id="cb1-4"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">DECLARE</span> @time1 DATETIME2;</span>
<span id="cb1-5"></span>
<span id="cb1-6"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">SET</span> @time1 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'2025-01-01 00:00:00.0000000'</span>;</span>
<span id="cb1-7"></span>
<span id="cb1-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-- This query will retrieve all cardiac arrest calls from this year.</span></span>
<span id="cb1-9"></span>
<span id="cb1-10"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">SELECT</span> Master_Incident_Number,</span>
<span id="cb1-11">    Response_Date,</span>
<span id="cb1-12">    Address,</span>
<span id="cb1-13">    Latitude,</span>
<span id="cb1-14">    Longitude,</span>
<span id="cb1-15">    Time_PhonePickUp,</span>
<span id="cb1-16">    Time_FirstCallTakingKeystroke,</span>
<span id="cb1-17">    Time_CallEnteredQueue,</span>
<span id="cb1-18">    Time_First_Unit_Assigned,</span>
<span id="cb1-19">    Time_CallTakingComplete</span>
<span id="cb1-20"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">FROM</span> Response_Master_Incident</span>
<span id="cb1-21"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">WHERE</span> Response_Date <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> @time1</span>
<span id="cb1-22">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AND</span> Problem <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">LIKE</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'CARDIAC ARREST%'</span></span>
<span id="cb1-23">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AND</span> Master_Incident_Number <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">''</span></span>
<span id="cb1-24"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">ORDER</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">BY</span> Response_Date;</span>
<span id="cb1-25"></span>
<span id="cb1-26"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-- This query will retrieve  all cardiac arrest calls from the past 1, 3, &amp; 5 years</span></span>
<span id="cb1-27"></span>
<span id="cb1-28"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">SELECT</span> Master_Incident_Number,</span>
<span id="cb1-29">    Response_Date,</span>
<span id="cb1-30">    Address,</span>
<span id="cb1-31">    Latitude,</span>
<span id="cb1-32">    Longitude,</span>
<span id="cb1-33">    Time_PhonePickUp,</span>
<span id="cb1-34">    Time_FirstCallTakingKeystroke,</span>
<span id="cb1-35">    Time_CallEnteredQueue,</span>
<span id="cb1-36">    Time_First_Unit_Assigned,</span>
<span id="cb1-37">    Time_CallTakingComplete</span>
<span id="cb1-38"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">FROM</span> Response_Master_Incident</span>
<span id="cb1-39"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">WHERE</span> Response_Date <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">BETWEEN</span> DATEADD(<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">YEAR</span>, <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, @time1) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AND</span> @time1</span>
<span id="cb1-40">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AND</span> Problem <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">LIKE</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'CARDIAC ARREST%'</span></span>
<span id="cb1-41">    <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AND</span> Master_Incident_Number <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">''</span></span>
<span id="cb1-42"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">ORDER</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">BY</span> Response_Date;</span></code></pre></div>
</div>
<p>These queries will generate the four datasets that I would want for the full analysis. I would save the output to csv files and name them cardiac_arrest_cy.csv, cardiac_arrest_1y.csv, cardiac_arrest_3y.csv, and cardiac_arrest_5y.csv.</p>
<p>Personally, I want to start with current data so I can get a feel for the data. To do some of my work, I would add some columns to the dataset. I can do it programmatically or through the SQL Query. I prefer to do it in the query like so:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb2-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">USE</span> Reporting_System;</span>
<span id="cb2-2">GO</span>
<span id="cb2-3"></span>
<span id="cb2-4"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">DECLARE</span> @time1 DATETIME2;</span>
<span id="cb2-5"></span>
<span id="cb2-6"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">SET</span> @time1 <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'2025-01-01'</span>;</span>
<span id="cb2-7"></span>
<span id="cb2-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-- This query will retrieve all cardiac arrest calls from this year</span></span>
<span id="cb2-9"></span>
<span id="cb2-10"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">SELECT</span> Master_Incident_Number <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> [Call_ID],</span>
<span id="cb2-11">    Response_Date <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> [Start_Time],</span>
<span id="cb2-12">    Address,</span>
<span id="cb2-13">    Latitude,</span>
<span id="cb2-14">    Longitude,</span>
<span id="cb2-15">    Time_PhonePickUp <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> [Phone_Start],</span>
<span id="cb2-16">    Time_FirstCallTakingKeystroke <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> [Keybiard_Start],</span>
<span id="cb2-17">    Time_CallEnteredQueue <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> [Dispatchable],</span>
<span id="cb2-18">    Time_First_Unit_Assigned <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> [Dispatched],</span>
<span id="cb2-19">    Time_CallTakingComplete <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> [Phone_Stop],</span>
<span id="cb2-20">    DATEDIFF(<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">SECOND</span>, Response_Date, Time_CallEnteredQueue) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> Call_Entry_Time,</span>
<span id="cb2-21">    DATEDIFF(<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">SECOND</span>, Time_CallEnteredQueue, Time_First_Unit_Assigned) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> Call_Queue_Time,</span>
<span id="cb2-22">    DATEDIFF(<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">SECOND</span>, Response_Date, Time_CallTakingComplete) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> Call_Processing_Time</span>
<span id="cb2-23"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">FROM</span> Response_Master_Incident</span>
<span id="cb2-24"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">WHERE</span> Response_Date <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> @time1</span>
<span id="cb2-25">  <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AND</span>  Problem <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'CARDIAC ARREST'</span></span>
<span id="cb2-26"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">ORDER</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">BY</span> Response_Date;</span></code></pre></div>
</div>
<p>This gives us a columns of elapsed times to determine how long it took us to make the call dispatchable, how long it took to dispatch the call to the first unit, and how long we spent on the phone with the caller.</p>
<p>Now we load the dataset, for this I’m using the R programming language. We can do it in Python as well, but I’ve been working with R a lot longer.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">df_cacy <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read.csv</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cardiac_arrest_cy.csv"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">header =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stringsAsFactors =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span></code></pre></div>
</div>
<p>Now that we have the dataset loaded, we can go through the dataset to clean it up. Most of these calls <em>should</em> have all of the components that we’ve selected. If there are things missing, then we can go in and clean those up to remove missing data points. For this dataset, this is the code I would use to clean up any missing values:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Check the data</span></span>
<span id="cb4-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str</span>(df_cacy)</span>
<span id="cb4-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">nrow</span>(df_cacy)</span>
<span id="cb4-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(df_cacy, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">n =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span>
<span id="cb4-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">colnames</span>(df_cacy)</span>
<span id="cb4-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">spec</span>(df_cacy)</span>
<span id="cb4-7"></span>
<span id="cb4-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Use the naniar package to check for missing values. This creates a graphical view of the missing data</span></span>
<span id="cb4-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gg_miss_var</span>(df_cacy)</span>
<span id="cb4-10"></span>
<span id="cb4-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Use this code to create a quick table of those missing value counts</span></span>
<span id="cb4-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">apply</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">X =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(df_cacy), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">MARGIN =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">FUN =</span> sum)</span>
<span id="cb4-13"></span>
<span id="cb4-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># This code replaces missing values with an entry</span></span>
<span id="cb4-15">df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Call_ID <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> tidyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">replace_na</span>(df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Call_ID, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NOT RECORDED"</span>)</span>
<span id="cb4-16">df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Start_Time <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> tidyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">replace_na</span>(df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Start_Time, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1970-01-01 00:00:00"</span>) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># This is the Unix Time start value</span></span>
<span id="cb4-17">df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Address <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> tidyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">replace_na</span>(df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Address, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NOT RECORDED"</span>)</span>
<span id="cb4-18">df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Latitude <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> tidyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">replace_na</span>(df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Latitude, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">388048</span>)</span>
<span id="cb4-19">df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Longitude <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> tidyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">replace_na</span>(df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Longitude, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">770469</span>)</span>
<span id="cb4-20">df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Ready_To_Dispatch <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> tidyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">replace_na</span>(df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Ready_To_Dispatch, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1970-01-01 00:00:00"</span>)</span>
<span id="cb4-21">df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>First_Unit_Assigned <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> tidyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">replace_na</span>(df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>First_Unit_Assigned, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1970-01-01 00:00:00"</span>)</span>
<span id="cb4-22">df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Stop_Time <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> tidyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">replace_na</span>(df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Stop_Time, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1970-01-01 00:00:00"</span>)</span>
<span id="cb4-23">df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Call_Entry_Time <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> tidyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">replace_na</span>(df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Call_Entry_Time, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># This makes any elapsed time that is missing a value we can eliminate in the next cleaning step.</span></span>
<span id="cb4-24">df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Call_Queue_Time <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> tidyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">replace_na</span>(df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Call_Queue_Time, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb4-25">df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Call_Processing_Time <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> tidyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">replace_na</span>(df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Call_Processing_Time, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span></code></pre></div>
</div>
<p>This should clean the data of any missing values. This is also the start of new questions. How much data is missing? Where is it missing at? Finally, why is the data missing? Most of the data is likely not missing at random. I expect that most of the missing data comes from calls that were not completed. When the other three benchmark datasets are compared, we can see how the percentage of calls missing data compares over 1, 3, and 5 years. If the comparisons are in line, then you move on, if they aren’t, there’s question number 4, what’s different now?</p>
<p>The next thing that I check for would be negative values in the final three columns, Call_Entry_Time, Call_Queue_Time, and Call_Processing_Time. These varables represent the elapsed times between events in the centre that measure our telecommunicators actions. If we see any values in these variables that are negative, then we know, instantly, that the calls have been closed then reopened. The fifth questions becomes why are some calls being reopened? My recommendation is to take those calls, and the calls with missing values if they can be proven to be full calls, and create a new dataset. That list can be exported to an Excel spreadsheet and used for future investigation. This is the first potential project that has been generated by this work.</p>
<p>Depending on the number of calls that exist in this dataset, I would remove the same calls from my master datasets and continue with the research without them. My benchmark is no more than 5 percent of the calls removed. If it appears that we’re going to go over 5 percent, we have another question, why are there so many calls with these defects?</p>
<p><em>In a quick glance after running the queries, I found that none of my entries for this year had any missing data and that historical data had missing data in the Time_First_Unit_Assigned column. These would be calls that were received, but never ran for whatever reason. This is what I expected to see in real data.</em></p>
<p>Once the call list has been cleaned, the next step that I recommend is to look at individual variables. I prefer to start with the numeric variables and create a summary. I have a custom summary that I use for my analyses. I feel like it serves my needs and gives me some insights that I will confirm when I create visuals for others. That summary can be found here:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Custom summary function</span></span>
<span id="cb5-2">custom_summary <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(column) {</span>
<span id="cb5-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(</span>
<span id="cb5-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Minimum =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">min</span>(column, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>),</span>
<span id="cb5-5">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Mean =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(column, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>),</span>
<span id="cb5-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Median =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">median</span>(column, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>),</span>
<span id="cb5-7">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Q1 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">quantile</span>(column, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.25</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>),</span>
<span id="cb5-8">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Q3 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">quantile</span>(column, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.75</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>),</span>
<span id="cb5-9">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">P90th =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">quantile</span>(column, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>.<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">90.</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>),</span>
<span id="cb5-10">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Maximum =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>(column, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>),</span>
<span id="cb5-11">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Std_Dev =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sd</span>(column, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>),</span>
<span id="cb5-12">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Variance =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">var</span>(column, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>),</span>
<span id="cb5-13">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Skewness =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(e1071<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">skewness</span>(column, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>),</span>
<span id="cb5-14">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Kurtosis =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(e1071<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kurtosis</span>(column, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span>
<span id="cb5-15">  )</span>
<span id="cb5-16">}</span></code></pre></div>
</div>
<p>This custom summary gives me a very good picture of the data prior to creating any visualizations. The minimum and maximum values give me a good range for the data, while the mean and median paint a picture of the central tendencies of the data. The standard deviation and variance can give me some information about the overall spread of the data, the skewness and kurtosis values give me the shape of the distribution, and the Q1 and Q3 values suggest the boundaries for outlier identification. All of this together now gives me a good numeric ‘<em>visualization</em>’ of the data and now I can focus on asking new questions of the numeric data.</p>
<p>Additionally, I will want to break the Response_Date column into some constituent components such as the day of the week, the day of the year, the hour, and the week number. These will allow me to create different pictures. To get those, I typically generate them from the SQL Query. That updated query would look like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb6-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">SELECT</span> Master_Incident_Number <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> [Call_ID],</span>
<span id="cb6-2">    Response_Date <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> [Start_Time],</span>
<span id="cb6-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">CAST</span>(DATEPART(WEEK, Response_Date) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">NVARCHAR</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> [WeekNo],</span>
<span id="cb6-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">UPPER</span>(FORMAT(Response_Date, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'ddd'</span>)) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> [DOW],</span>
<span id="cb6-5">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">CAST</span>(DATEPART(<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">DAY</span>, Response_Date) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">NVARCHAR</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> [<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">Day</span>],</span>
<span id="cb6-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">CAST</span>(DATEPART(<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">Hour</span>, Response_Date) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">NVARCHAR</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> [<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">Hour</span>],</span>
<span id="cb6-7">    Address,</span>
<span id="cb6-8">    Time_PhonePickUp <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> [Phone_Start],</span>
<span id="cb6-9">    Time_FirstCallTakingKeystroke <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> [Keybiard_Start],</span>
<span id="cb6-10">    Time_CallEnteredQueue <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> [Dispatchable],</span>
<span id="cb6-11">    Time_First_Unit_Assigned <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> [Dispatched],</span>
<span id="cb6-12">    Time_CallTakingComplete <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> [Phone_Stop],</span>
<span id="cb6-13">  DATEDIFF(<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">SECOND</span>, Response_Date, Time_CallEnteredQueue) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> Call_Entry_Time,</span>
<span id="cb6-14">  DATEDIFF(<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">SECOND</span>, Time_CallEnteredQueue, Time_First_Unit_Assigned) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> Call_Queue_Time,</span>
<span id="cb6-15">  DATEDIFF(<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">SECOND</span>, Response_Date, Time_CallTakingComplete) <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AS</span> Call_Processing_Time</span>
<span id="cb6-16"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">FROM</span> Response_Master_Incident</span>
<span id="cb6-17"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">WHERE</span> Response_Date <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> @time1</span>
<span id="cb6-18"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">AND</span>  Problem <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'CARDIAC ARREST'</span></span>
<span id="cb6-19"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">ORDER</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">BY</span> Response_Date;</span></code></pre></div>
</div>
<p>or you can do it programmatically in R like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Function to extract day of week (DDD), week number, year, and hour</span></span>
<span id="cb7-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># This also uses the lubridate library</span></span>
<span id="cb7-3">extract_datetime_features <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(df_cacy, Response_Date) {</span>
<span id="cb7-4">  df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb7-5">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb7-6">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">day_of_week_ddd =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">wday</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sym</span>(Response_Date), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb7-7">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">week_number =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">isoweek</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sym</span>(Response_Date)),</span>
<span id="cb7-8">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">year_number =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">year</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sym</span>(Response_Date)),</span>
<span id="cb7-9">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hour_of_day =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">hour</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sym</span>(Response_Date))</span>
<span id="cb7-10">    )</span>
<span id="cb7-11">}</span></code></pre></div>
</div>
<p>Either way, thsis allows us new data to generate new questions and answers. Is there a specific day of the week that has more events than others? Is there a certain time of the year that has more events? Are there specific hours out of the day that see more events? These questions could impact staffing, training, and could present opportunities to partner with the local hospitals to create better synergies for positive patient experiences and outcomes. So we’re now at 8 questions from our starting point as well as a couple of different projects. And when you take a look at the summaries for each of the elapsed times and compare them to the 1, 3, and 5 year summaries, you can not only see trends but find new questions when doing the comparisons to those benchmarks.</p>
<p>From here, for the more visually minded, we can create two or three visualizations for each of the three elapsed time columns. I recommend a histogram or density plot, a blox plot, and a QQ plot. The last one will show you, visually, what the skewness and kurtosis told you numerically. This code should create those for you. Just remember that you’re doing it for each of the three variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Historgram and Density plt</span></span>
<span id="cb8-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(df_cacy, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Call_Entry_Time)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb8-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_histogram</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> ..density..),</span>
<span id="cb8-4">                 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"white"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_density</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lwd =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>,</span>
<span id="cb8-6">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.25</span>)</span>
<span id="cb8-7"></span>
<span id="cb8-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># QQ Plot</span></span>
<span id="cb8-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggqqplot</span>(df_cacy, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Call_Entry_Time"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#1c5789"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"QQ Plot of TimeToQueue"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ylab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Call Entry Time"</span>)</span>
<span id="cb8-10"></span>
<span id="cb8-11"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Box Plot</span></span>
<span id="cb8-12">box1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> df_cacy <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span>DOW, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span>Call_Entry_Time)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_boxplot</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Dark2"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Boxplot of Call Entry Times by Day"</span>)</span>
<span id="cb8-16"></span>
<span id="cb8-17">box1</span></code></pre></div>
</div>
<p>Comparing the results of the current year to the benchmarks gives you visual verification of what you’ve seen numerically. These are also great for the subsequent reports because your audience is now able to visualize what you’re telling them. This may lead to additional questions about the internal working of the data. This could add to the question and project totals that you have generated.</p>
<p>Visualizations are not simply for numeric data. We can create boxplots for the factor or categorical data. For example, this allows us to look at each day of the week and see how many cardiac arrest calls we have for each day of the week.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1">df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>DOW <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(df_cacy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>DOW, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SUN"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"MON"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"TUE"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"WED"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"THU"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"FRI"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SAT"</span>))</span>
<span id="cb9-2"></span>
<span id="cb9-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ggplot2</span></span>
<span id="cb9-4">barDOW <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> df_cacy <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span>DOW, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span>DOW)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_bar</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_viridis</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">discrete =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">option =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"H"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Count of calls per day of the week"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(</span>
<span id="cb9-9">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'count'</span>, </span>
<span id="cb9-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">after_stat</span>(count)), </span>
<span id="cb9-11">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Adjusts the vertical position of the count</span></span>
<span id="cb9-12">  )</span>
<span id="cb9-13"></span>
<span id="cb9-14">barDOW</span></code></pre></div>
</div>
<p>If anything stands out in this, we can also check that against the benchmark datasets and determine if this normal or if it’s standing out for a different reason. This can also be generated for each hour of the day with minor changes to the code. This leads us to another plot that can be visually appealing while also giving us some excellent information. We can use a ridgeline plot to give us a count of events per hour per doy. Are there specific times and days which see more events than others. It’s likely that we would see different patters if we examined traffic stops. I expect, if we ran this out, we would not see any particular combination stand out.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Aggregate data to get counts per hour per day</span></span>
<span id="cb10-2">hourly_calls <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> df_cacy <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb10-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(DOW, Hour) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb10-4">  dplyr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tally</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">name =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CallCount"</span>)</span>
<span id="cb10-5"></span>
<span id="cb10-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Create the Ridgeline Plot</span></span>
<span id="cb10-7">ridge_plot <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(hourly_calls, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Hour, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> DOW, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">height =</span> CallCount, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> DOW, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> DOW)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add fill aesthetic</span></span>
<span id="cb10-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_density_ridges</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"identity"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scale =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">rel_min_height =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.01</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">23</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Set breaks for each hour</span></span>
<span id="cb10-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_discrete</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">limits =</span> rev) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reverse order of days for better readability</span></span>
<span id="cb10-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_viridis</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">discrete =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">option =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"H"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Use viridis scale</span></span>
<span id="cb10-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Call Count by Hour and Day of Week"</span>,</span>
<span id="cb10-13">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Hour of Day"</span>,</span>
<span id="cb10-14">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Day of Week"</span>,</span>
<span id="cb10-15">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Day of Week"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add legend title</span></span>
<span id="cb10-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_ridges</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">font_size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">grid =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb10-17"></span>
<span id="cb10-18">ridge_plot</span></code></pre></div>
</div>
<p>Another thing we can do is look at the geographic distribution of cardiac arrests in the city. Where do we have more of them? that might help us position our resources better and assist us with patient care by ensuring that people at those locations are properly trained in CPR to help get hands on chest faster which increases the likelihood of survival. This code will create and display a map of the City with the locations marked. Hovering over any individual data point will also give us call information so we can see other details.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Convert integer coordinates to decimal degrees</span></span>
<span id="cb11-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># For latitude: Divide by 1,000,000 and keep positive (Northern hemisphere)</span></span>
<span id="cb11-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># For longitude: Divide by 1,000,000 and make negative (Western hemisphere for Alexandria)</span></span>
<span id="cb11-4">calls_with_coords <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> df_cacy <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb11-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lat =</span> Latitude <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1000000</span>,</span>
<span id="cb11-7">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">long=</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> (Longitude <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1000000</span>)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Negative for western hemisphere</span></span>
<span id="cb11-8">  )</span>
<span id="cb11-9"></span>
<span id="cb11-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Create the map</span></span>
<span id="cb11-11">alexandria_map <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">leaflet</span>(calls_with_coords) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-12">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add base map tiles</span></span>
<span id="cb11-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">addProviderTiles</span>(providers<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>CartoDB.Positron) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-14">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Set the view to center on Alexandria, VA</span></span>
<span id="cb11-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">setView</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lng =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">77.0469</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lat =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">38.8048</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">zoom =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">13</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-16">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add markers for each call</span></span>
<span id="cb11-17">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">addCircleMarkers</span>(</span>
<span id="cb11-18">    <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>long, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>lat,</span>
<span id="cb11-19">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'#1c5789'</span>,</span>
<span id="cb11-20">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">radius =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>,</span>
<span id="cb11-21">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stroke =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>,</span>
<span id="cb11-22">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fillOpacity =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>,</span>
<span id="cb11-23">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">popup =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;b&gt;Call ID:&lt;/b&gt;"</span>, Master_Incident_Number, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;br&gt;"</span>,</span>
<span id="cb11-24">                   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;b&gt;Date:&lt;/b&gt;"</span>, Response_Date, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;br&gt;"</span>,</span>
<span id="cb11-25">                   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;b&gt;Address:&lt;/b&gt;"</span>, Address, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;br&gt;"</span>,</span>
<span id="cb11-26">                   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;b&gt;Seconds To Queue:&lt;/b&gt;"</span>, Call_Entry_Time, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;br&gt;"</span>,</span>
<span id="cb11-27">                   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;b&gt;Seconds To DispatchL&lt;/b&gt;"</span>, Call_Queue_Time, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;b&gt;"</span>,</span>
<span id="cb11-28">                   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;b&gt;Seconds On Call:&lt;/b&gt;"</span>, Call_Process_Time, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;br&gt;"</span>)</span>
<span id="cb11-29">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-30">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add a title</span></span>
<span id="cb11-31">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">addControl</span>(</span>
<span id="cb11-32">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">html =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;h3&gt;Cardiac Arrest Calls&lt;br&gt;Alexandria, VA&lt;/h3&gt;"</span>,</span>
<span id="cb11-33">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"topright"</span></span>
<span id="cb11-34">  )</span>
<span id="cb11-35"></span>
<span id="cb11-36"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Display the map</span></span>
<span id="cb11-37">alexandria_map</span>
<span id="cb11-38"></span>
<span id="cb11-39"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Save the map for inclusion in reports</span></span>
<span id="cb11-40"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">saveWidget</span>(alexandria_map, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"alexandria_calls_map.html"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">selfcontained =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb11-41"></span>
<span id="cb11-42"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Optional: If you want to analyze call density by neighborhood or district</span></span>
<span id="cb11-43"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># This creates a clustered view that can help identify hotspots</span></span>
<span id="cb11-44">cluster_map <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">leaflet</span>(calls_with_coords) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-45">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add base map tiles</span></span>
<span id="cb11-46">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">addProviderTiles</span>(providers<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>CartoDB.Positron) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-47">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Set the view to center on Alexandria, VA</span></span>
<span id="cb11-48">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">setView</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lng =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">77.0469</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lat =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">38.8048</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">zoom =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">13</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-49">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add clustered markers</span></span>
<span id="cb11-50">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">addMarkers</span>(</span>
<span id="cb11-51">    <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>longitude, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>latitude,</span>
<span id="cb11-52">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">popup =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;b&gt;Call ID:&lt;/b&gt;"</span>, Master_Incident_Number, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;br&gt;"</span>,</span>
<span id="cb11-53">                   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;b&gt;Date:&lt;/b&gt;"</span>, Response_Date, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;br&gt;"</span>,</span>
<span id="cb11-54">                   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;b&gt;Address:&lt;/b&gt;"</span>, Address, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;br&gt;"</span>,</span>
<span id="cb11-55">                   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;b&gt;Seconds To Queue:&lt;/b&gt;"</span>, Call_Entry_Time, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;br&gt;"</span>,</span>
<span id="cb11-56">                   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;b&gt;Seconds To DispatchL&lt;/b&gt;"</span>, Call_Queue_Time, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;b&gt;"</span>,</span>
<span id="cb11-57">                   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;b&gt;Seconds On Call:&lt;/b&gt;"</span>, Call_Process_Time, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;br&gt;"</span>),</span>
<span id="cb11-58">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">clusterOptions =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">markerClusterOptions</span>(),</span>
<span id="cb11-59">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(Master_Incident_Number)</span>
<span id="cb11-60">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-61">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Add a title</span></span>
<span id="cb11-62">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">addControl</span>(</span>
<span id="cb11-63">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">html =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;h3&gt;Clustered Call Locations&lt;br&gt;Alexandria, VA&lt;/h3&gt;"</span>,</span>
<span id="cb11-64">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"topright"</span></span>
<span id="cb11-65">  )</span>
<span id="cb11-66"></span>
<span id="cb11-67"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Uncomment to save the cluster map</span></span>
<span id="cb11-68"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># saveWidget(cluster_map, "alexandria_calls_cluster_map.html", selfcontained = TRUE)</span></span></code></pre></div>
</div>
<p>We have set this up to show us where all of the calls are and when we hover over an individual call, it will give us information about the call including the master incident number, the address, the date and time of when it was generated, and the amount of time that passed before it went to queue, was dispatcahed, and how long we were on the call. Seeing the geographic clusters will likely identify nursing homes or other care facilities, so if we see clusters in other places, we may want to look into why a cluster of cardiac arrests are there. These clusters can also be compared against the benchmarks to see if they look the same. If they don’t, we can start asking why we have a new cluster. That increases the number of questions that we can ask and the number of projects we have in front of us.</p>
<p>A final example of a new research project would be to create a binary variable in hand with deeper research to determine if calls were originally coded as cardiac arrests or if they were coded and dispatched as something else and changed to cardiac arrests later in the process. That examination could show how accurate we were in triaging and handling these calls. I will leave that code for another day and another post.</p>
<p>From here, you can go anywhere you want to and find answers to the questions that you’ve found. I hope that this showed exactly how you can start with one question, what can we learn about cardiac arrests, and turn it into many questions and projects that show how much is left to know.</p>



 ]]></description>
  <category>examples</category>
  <category>analyses</category>
  <guid>https://drddatascience.com/posts/20250415/</guid>
  <pubDate>Sat, 12 Apr 2025 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Updated Directions</title>
  <dc:creator>Tony Dunsworth</dc:creator>
  <link>https://drddatascience.com/posts/20250406/</link>
  <description><![CDATA[ 




<p>It has certainly been way too long since I’ve written a blog post. I know that I promised myself and my readers, if I have any left, that I would do better with this, but here we are. Life has a funny way of getting in the way when you least expect it. However, those same recent events have given me considerable fodder for new posts that could be in the pipeline.</p>
<p>I’ve been working on a few projects lately. Many of those projects are going to be the bases of many future posts. The first of those is a piece of software that I’m working on`to generate more realistic synthetic data for use in presentations and data science for public safety. The problem with the current iteration of the software is that I don’t like how the distributions are appearing. I’m working on different distributions to create one that I believe will be more representative of actual centre data.</p>
<p>the other large project on the deck is called <ins><em>It’s About Time!</em></ins> Time is essential in every part of any 9-1-1 service call. It starts with a time stamp at every step in the call process. The passage of time can determine a call’s outcome. We can go further and ask how one event can influence another. Can the time spent at a specific point in the process tell you how likely the event will be successful? Can we see how well we meet our SLAs to partner organizations by viewing how well we handle the setup?</p>
<p>In each CAD on the market, calls that have been closed can be re-opened or cloned into a new call. The preferred method is to clone the call to preserve the timestamps in the original call. When a call is re-opened, some of the timestamps associated with it will change. This can create very large values and can create negative values when subsequent events seem to occur prior to the prior values. Both of these situations can throw off a centre’s statistics and alter the perception of how it performs. Now that those skewed values are in place after a re-opened call, subsequent analysis must employ amelioration techniques to address those outlying values.</p>
<p>I am also involved in a group that is looking to build a new staffing recommendations model for 9-1-1 centres. The organisation with which I volunteer, <a href="https://www.nena.org">NENA</a>, is looking to replace a 20+ year old study of staffing models with something that is balanced, appropriate for PSAPs of all sizes and call volumes. We also want to look at other factors that can identify good dispatchers and then find better ways to keep them.</p>
<p>I have been working, for some time, on creating a new series of reports for the centre I work in. However, I think I want to extend that another level. I think that I would like to create software that would allow a centre to select a csv file, pass it like a parameter to the software and get an analysis in return. I think that I would want to make a stand-alone version and a cloud version. The cloud version would be less expensive in return for use of the data, after anonymization, for additional research projects. I will start building my lists of must-have, want-to-haves, and would-be-nice-to-haves. From there, I will design everything from the ground up and then we will see where it goes from there.</p>
<p>So, dear readers, if you have any comments, questions, thoughts, or cards to the players; feel free to let me know. I would like to hear from you and see where we can go next.</p>



 ]]></description>
  <category>news</category>
  <category>thoughts</category>
  <category>updates</category>
  <guid>https://drddatascience.com/posts/20250406/</guid>
  <pubDate>Thu, 10 Apr 2025 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Directions for Future Posts</title>
  <dc:creator>Tony Dunsworth</dc:creator>
  <link>https://drddatascience.com/posts/20250204/</link>
  <description><![CDATA[ 




<p>I’ve been considering the</p>



 ]]></description>
  <category>thoughts</category>
  <category>ideas</category>
  <guid>https://drddatascience.com/posts/20250204/</guid>
  <pubDate>Tue, 04 Feb 2025 05:00:00 GMT</pubDate>
</item>
<item>
  <title>So where does the data take me?</title>
  <dc:creator>Tony Dunsworth</dc:creator>
  <link>https://drddatascience.com/posts/20250128/</link>
  <description><![CDATA[ 




<section id="reflections-about-the-last-week" class="level1">
<h1>Reflections about the last week</h1>
<p>I just finished a week at <a href="https://nena.org">NENA’s</a> Standard and Best Practices. I had a wonderful time with my presentations on developing staffing models, data management, and using data better in call processing. I met a lot of new friends and I see a lot of opportunities ahead of me to make a real difference at the intersection of public safety and data science.</p>
<section id="nenas-sbp" class="level2">
<h2 class="anchored" data-anchor-id="nenas-sbp">NENA’s SBP</h2>
<p>I participated in seven presentations. I will upload slide decks and notes later for people who are interested in learning what I was talking about in detail.</p>
<section id="staffing" class="level3">
<h3 class="anchored" data-anchor-id="staffing">Staffing</h3>
<p>Three of these were in a block discussing the need for a new staffing model recommendation in 911 centres. Currently, NENA’s <a href="https://cdn.ymaws.com/www.nena.org/resource/resmgr/standards/NENA-REF-001-2003_PSAP_Staff.pdf">Staffing Recommendations</a> are over 21 years old and rely heavily on the <a href="https://myweb.ecu.edu/robbinst/PDFs/Erlang%20Compare%20Working%20paper.pdf">Erlang-C</a> model for staffing recommendations. There has been a tonne of work in queuing theory since the development of this formula. And, as referenced in the linked paper, there are legitimate questions about how appropriate the Erlang model family is for regular call centres, let alone 911 centres.</p>
<p>One of the central problems is that Erlang-C models assume there is only one queue that delivers all of the customers to the servers. In most modern centres, there are at least 4 ingression points to the server set. We have dedicated 9-1-1 trunk lines, typically most primary PSAPs also answer some non-emergency lines, and most centres also take 9-1-1 SMS messages. Finally, all centres have to be able to receive and process TTD-TTY calls. Many larger centers may also process traffic cameras, <a href="https://www.apcointl.org/technology/interoperability/asap-to-psap/">ASAP2PSAP</a> generated alarm calls, or other monitoring services like <a href="https://www.soundthinking.com/">ShotSpotter</a>. Dispatchers also have radio traffic from the units that they monitor which require their attention. So, there are numerous queues to access the servers, the servers are all multi-skilled servers, and the different queues have different priorities for servers depending on skill sets and responsibilities. Each of these adds levels of complexity that could confound an Erlang-C model.</p>
<p>There are several different methods that could come into play, including Markovian models, Game Theory, and Priority Queuing Models. Each of these can be explored and addressed.</p>
<p>I remain convinced that we have enough brain power in NENA that our working group can tackle this issue and come up with a queuing model that will work for the industry.</p>
</section>
<section id="eido-and-ng9-1-1" class="level3">
<h3 class="anchored" data-anchor-id="eido-and-ng9-1-1">EIDO and NG9-1-1</h3>
<p>Two of the other presentations centered around the <a href="https://cdn.ymaws.com/www.nena.org/resource/resmgr/standards/NENA-STA-021.1b-2021_2024121.pdf">Emergency Incident Data Object</a>. This is how, we propose, to move information between different systems and entities in public safety. It’s in a <a href="https://www.json.org/json-en.html">JSON</a> object that leverages <a href="https://www.niem.gov/about-niem">NIEM</a> to define the objects passed between entities. My presentations dicussed the JSON object itself and the conveyance mechanisms by which the JSON objects are moved between entities.</p>
<p>I believe in the use of the EIDO as we continue to roll out NG9-1-1 services across the country. We have done a lot of good work throughout the years to create something that can be useful in ensuring data gets to where it needs to go and can be processed efficiently.</p>
</section>
<section id="data-usage" class="level3">
<h3 class="anchored" data-anchor-id="data-usage">Data Usage</h3>
<p>The other presentations in which I participated were the Call Processing working group where I am the <em>‘data SME’</em> and the <a href="https://www.nena.org/page/standards#FutureThink">Future Think</a> committee’s Data Management and Presentation work. That was a fun panel discussion with a lot of great audience participation. There is a general agreement that we need to use more of our data and use it more effectively.</p>
<p>I am heartened, as a data scientist working in public safety, to hear my colleagues in public safety acknowledging the need to use data analytics, regression modeling, predictive analytics, and forecasting to improve things for telecommunicators.</p>
<p>There is also a movement to start considering a shared data repository for research and analytical purposes. I beieve that will be an excellent idea. If we can get several PSAPs together and build out a research database, we could put it in front of other researchers and see where it leades us.</p>
<section id="editorial-note" class="level4">
<h4 class="anchored" data-anchor-id="editorial-note">Editorial Note</h4>
<p><em>I changed the link for NIEM to go to the About page to give readers a better explanaiton of what NIEM is and why it’s important. I also linked to a page describing JSON in better terms. Finally, my editor found a spelling error that was also corrected.</em></p>


</section>
</section>
</section>
</section>

 ]]></description>
  <category>news</category>
  <category>editorial</category>
  <category>data science</category>
  <guid>https://drddatascience.com/posts/20250128/</guid>
  <pubDate>Sun, 02 Feb 2025 05:00:00 GMT</pubDate>
</item>
<item>
  <title>So where does the data take me?</title>
  <dc:creator>Tony Dunsworth</dc:creator>
  <link>https://drddatascience.com/posts/20250106/</link>
  <description><![CDATA[ 




<p>With the snow storm that moved from the midwest over the Appalachians and through Virginia, I received texts and a phone call from a friend and former colleague. She asked if I knew of a way to view all of the current calls for service throughout the state. No, she’s not crazy, she was investigating a request made of her. However, the commiunication started me thinking about an <em>“end-to-end”</em> data science solution that could make that a reality.</p>
<p>Thwew are severak steps that need to be taken to create such an application. Granted, the end result would be focused</p>



 ]]></description>
  <category>news</category>
  <category>full-stack</category>
  <category>data science</category>
  <guid>https://drddatascience.com/posts/20250106/</guid>
  <pubDate>Mon, 06 Jan 2025 05:00:00 GMT</pubDate>
</item>
<item>
  <title>So where does the data take me?</title>
  <dc:creator>Tony Dunsworth</dc:creator>
  <link>https://drddatascience.com/posts/20250105/</link>
  <description><![CDATA[ 




<p>So, over the <em>dead</em> week between Christmas and New Year’s Day, I started working on a new reporting template. The goal is to create a new archive of weekly and monthly reports for my 911 centre in a <a href="https://quarto.org">Quarto</a> blog format. Currently, I’m working on a sample report for management to see what the audience will like. I also want to use the sample to illustrate what needs to happen with the reports.</p>
<p>An example of this is in our datasets, we trap the time stamps at various points in the life of the service call. Some of these include the start of the call, when it was available to be dispatched, when the first units were assigned, and when the call was disconnected. In the data cleaning process, we have identified some of the deltas between time stamps come out negative. Obviously, you <strong>cannot</strong> dispatch a call before it enters the queue. This means that when we find them, we have to address them in some fashion.</p>



 ]]></description>
  <category>news</category>
  <category>analytics</category>
  <category>911</category>
  <guid>https://drddatascience.com/posts/20250105/</guid>
  <pubDate>Sun, 05 Jan 2025 05:00:00 GMT</pubDate>
</item>
<item>
  <title>Thanks and Thoughts</title>
  <dc:creator>Tony Dunsworth</dc:creator>
  <link>https://drddatascience.com/posts/20241223/</link>
  <description><![CDATA[ 




<p>Well, the site is now live, thanks to Ionos’ technical support. I have to compliment the person who followed up with me today. He helped me get everything taken care of and get the site live and available for you to see. It’s nice to go from working to build it to seeing it out there where everyone else can see it and we can go on this journey together.</p>
<p>I also want to thank <a href="https://beamilz.com">Beartiz Milz</a> for writing an awesome <a href="https://beamilz.com/posts/2022-06-05-creating-a-blog-with-quarto/en/">tutorial</a> that helped me turn my limited knowledge of Quarto and my comfort with R into a website and blog to promote my work in 911 data science. I’m also using her tutorial to build a blog as a vehicle for new reports in my PSAP.</p>
<p>For the last 14 years, I’ve written reports for two different PSAPs and felt like my reports have not illuminated everything that the data has to offer. The weekly and monthly reports have been things I’ve been asked to develop. However, there is always so much more in the data which could be important. Can we use knowledge about what days and hours are busiest change how we schedule telecommunicators? Can we see training oportunities by focusing on how long it takes us to process specific call types? Are there hidden correlations in the data that we’ve been missing because we don’t see them? I’ve thought of these questions forever. Now that I’ve finished my doctorate, I want to spend the time investigating these and other questions.</p>
<p>I think that I can build templates that I can share with other interested PSAPs and we can start building better reporting systems which can, by being served as dashboards and websites, make the reports more responsive while automating the delivery. I want to mke things easier for everyone.</p>
<p>I updated my <a href="https://medium.com/@trdunsworth">Medium</a> site with an annoucement that this blog exists and has become active. I’ve also updated <a href="https://linkedin.com/in/tonyrdunsworth">LinkedIn</a> with a link to that <a href="https://medium.com/@trdunsworth/new-blog-new-goals-same-ol-me-107d3dec8cf6">article</a> and invited my friends and contacts there to add comments and ask questions that can turn into blog posts. I will post this article there too, once I’ve published it.</p>
<p>So, this is where this post ends. I will post something new in a couple of days. I’m going to challenge myself to add some code in the next one to see what happens. I have a couple of ideas in mind.</p>



 ]]></description>
  <category>news</category>
  <category>thoughts</category>
  <category>reports</category>
  <guid>https://drddatascience.com/posts/20241223/</guid>
  <pubDate>Sun, 22 Dec 2024 05:00:00 GMT</pubDate>
</item>
</channel>
</rss>
887207:/posts/startingpoint/index.html}</title>
  <dc:creator>Tony Dunsworth</dc:creator>
  <link>https://drddatascience.com/posts/startingpoint/</link>
  <description><![CDATA[ 




<p>This is, for me, a starting point post. I am just starting to develop this site, including this blog, as a way to do several things at once. First and foremost, I want to document my work in public safety communications data science. This is a turning point in my career, transitioning from back-end administration of dispatch systems to data analytics and data science.</p>
<p>Another part of this blog will discuss things I find interesting in tech, especially when it comes to data. For example, I have been working more and more in Python lately and finding tools that I enjoy using because they make my work easier. The top three of late are <a href="https://github.com/astral-sh/uv">uv</a>, <a href="https://duckdb.org/">DuckDB</a>, and <a href="https://fireducks-dev.github.io/">FireDucks</a>. Over time, I will add Jupyter notebooks here so I can document my work with these and other tools.</p>
<p>I also want to learn more about <a href="https://julialang.org/">Julia</a>. So I might experiment with it in notebooks as well here and there and document the experience. However, most of the code that you see here will be in R, because it was the first language that I learned and the one that I feel most comfortable with. That will present its own challenge because many forecasting libraries that I have worked with are only expressed in Python.</p>
<p>There will be some tutorials as I write more and I get more comfortable with writing here and updating the blog and the site. Most of those are going to be geared towards public safety communications. I work with <a href="https://nena.org">NENA</a> on several technical committees and part of that work, for me, focuses on bringing advanced analytics to PSAPs across the country. I also speak a few times a year on this and other topics. I will start blogging about what I have presented after the presentations are done. It will be good review.</p>
<p>I am also fascinated with generating synthetic data for analyses. Right now, I’ve been working with <a href="https://mostly.ai/">Mostly.ai</a> to generate synthetic data for my research work. Due to the nature of the work that I do in centres, I use synthetic data for my presentations and my tutorials. My goal is to work with other libraries to create more realistic data for research purposes. I know that I will write about that in future posts. I’m looking forward to having fun with that exploration.</p>
<p>Many of my posts will be found on my <a href="https://medium.com/@trdunsworth">Medium</a> page. Some of the tutorials may also be found, in the future, on my <a href="https://linkedin.com/in/tonyrdunsworth">LinkedIn</a>. However, I will point my audience here over time because there will be posts here that don’t exist other places so I can promote this place as my prefered publication venue.</p>
<p>Well, I think that this is a good start as a pre-launch blog post.</p>



 ]]></description>
  <category>news</category>
  <guid>https://drddatascience.com/posts/startingpoint/</guid>
  <pubDate>Sun, 22 Dec 2024 05:00:00 GMT</pubDate>
</item>
</channel>
</rss>
